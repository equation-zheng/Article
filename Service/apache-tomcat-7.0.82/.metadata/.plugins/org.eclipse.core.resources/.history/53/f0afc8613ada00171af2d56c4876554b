<%
	String path = request.getContextPath();		//请求上下文路径
	//System.out.println(path);	// /Idles
	int port = request.getServerPort();		//服务器端口号
	//System.out.println(port);	// 8080
	String basePath = null;
	if (port == 80) {
		//getScheme()返回当前页面使用的协议，http 或是 https;
		basePath = request.getScheme()+"://"+request.getServerName()+path;
	} else {
		basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path;
	}
	//System.out.println(request.getServerName());   //localhost
	
	request.setAttribute("basePath", basePath);
%>
<?xml version="1.0" encoding="UTF-8" ?>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>首页</title>
</head>
<style>
	* {
		margin: 0;
		padding: 0;
		font-family: "微软雅黑";
	}
	ul li {
		list-style: none;
	}
	.header {
		height: 72px;
		background: #458fce;
	}
	.header .logo {
		color: #fff;
		line-height: 72px;
		font-size: 30px;
		margin-left: 30px;
		display: inline-block;
		font-weight: 500;
		float: left;
	}
	.header ul .first {
		margin-left: 10%;
		background: #74b0e2;
	}
	.header ul li {
		float: left;
		line-height: 72px;
		margin-left: 20px;
		padding: 0 20px 0 20px;
		color: #fff;
		
	}
	.header ul li:hover{
		background: #74b0e2;
		color: #D6E1CC;
	}
	.header .login {
		margin-right: 20px;
		float: right;
	}
	.header .login a {
		line-height: 72px;
		color: #fff;
		padding: 0 10px 0 10px;
		display: inline-block;
		text-decoration: none;
	}
	.header .login span a:hover {
		background: #74b0e2;
		color: #D6E1CC;
	}
	.banner {
		height: 380px;
		overflow: hidden;
		background: #ccc;
		position: relative;
	}
	.banner ul {
		height: 380px;
		width: 5520px;
		border: solid 5px #red;
		margin-left: -1120px;
	}
	.banner ul li {
		height: 380px;
		width: 1024px;
		border: solid 1px red;
		margin-left: 90px;
		float: left;
	}
	.banner s {
		width: 25px;
		height: 25px;
		position: absolute;
		top: 180px;
		transform: rotate(45deg);
		border-color: #E8E8E8;
		opacity: .1;
		transition: opacity .5s;
	}
	.banner s:nth-child(1) {
		left: 40px;
		border-left-style: solid;
		border-bottom-style: solid;
	}
	.banner s:nth-child(2) {
		right: 40px;
		border-top-style: solid;
		border-right-style: solid;
	}
	.banner:hover s {
		opacity: 1;
	}

</style>
<body>
	<div class="header">
	<div class='logo'>原创文字</div>
		<ul>
			<li class='first'>首页</li>
			<li>原创故事</li>
			<li>热门专题</li>
			<li>欣赏美文</li>
			<li>赞助</li>
		</ul>
		<div class='login'>
			<span><a href="javascript:void(0)">登陆</a></span>
			<span>|</span>
			<span><a href="javascript:void(0)">注册</a></span>
		</div>
	</div>
	<div class="banner">
		<s class="moveLeft"></s>
		<s class="moveRight"></s>
		<ul>
			<li>0<img src="" alt="" /></li>
			<li>1<img src="" alt="" /></li>
			<li>2<img src="" alt="" /></li>
			<li>3<img src="" alt="" /></li>
			<li>4<img src="" alt="" /></li>
			<li>5<img src="" alt="" /></li>
		</ul>
	</div>
</body>
<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
<script>
	var moveLeft = $('.banner .moveLeft').eq(0);
	var moveRight = $('.banner .moveRight').eq(0);
	
	var index = 0;
	var imgwidth = $('.banner ul li').width()+80;
	var len = $('.banner ul li').length - 2;
	console.log(imgwidth*len+" | "+$('.banner ul').width());
	
	function movePicture() {
		$('.banner ul').animate({marginLeft : -imgwidth * (index + 1)}, 1000,
		function() {
			if (index == len) {
				$(this).css('margin-left', -imgwidth);
				index = 0;
			} 
			if (index == -1){
				$(this).css('margin-left', -imgwidth * len);
				index = len -1;
			}
		})
	}
	
	
	
	moveLeft.on('click', function() {
		index--;
		movePicture();
	})
	moveRight.on('click', function() {
		index++;
		movePicture();
	})
</script>
</html>














