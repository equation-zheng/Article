package util;

import java.lang.reflect.Field;

import annotation.Column;
import annotation.Table;

public class TableUtils {

	public static String getCreateTableSQL(Class<?> clazz) {
		StringBuilder sb = new StringBuilder();
		sb.append("create table ");
		//获取表名
		Table table = (Table) clazz.getAnnotation(Table.class);
		String tableName = table.tableName();
		sb.append(tableName).append("(\n");
		
		Field[] fields = clazz.getDeclaredFields();		//获取器所有的成员变量
		String primaryKey = "";
		//遍历所有字段
		for(int i = 0; i < fields.length; i++) {
			Column column = (Column) fields[i].getAnnotations()[0];
			String field = column.field();
			String type = column.type();
			boolean defaultNull = column.defaultNull();
			
			sb.append("\t" + field).append(" ").append(type);
			
		}
		
		
		return "";
	}
	
}
